## Java有哪些数据类型

Java有两大类数据类型：

1. 基本数据类型：
   1. 整型（`byte`, `short`, `int`, `long`）
   2. 浮点型（`float`, `double`）
   3. 字符型（`char`）
   4. 布尔型（`boolean`）。
2. 引用数据类型：包括类（`class`）、接口（`interface`）和数组（`array`）。

```java
// 基本数据类型
byte b = 100; // 8位，范围从-128到127
short s = 10000; // 16位，范围从-32768到32767
int i = 100000; // 32位，范围从-2147483648到2147483647
long l = 100000L; // 64位，范围从-9223372036854775808到9223372036854775807
float f = 100.0f; // 32位，范围大约从1.4e-45到3.4e38
double d = 100.0; // 64位，范围大约从4.9e-324到1.8e308
char c = 'a'; // 16位，范围从0到65535
boolean bool = true; // 只有两个值：true和false

// 引用数据类型
String str = "Hello, World!"; // 字符串类型
int[] arr = {1, 2, 3, 4, 5}; // 数组类型
```

> 注意：在Java中，所有的引用类型都是类，包括数组。

这些数据类型对应的包装类为 `Byte` 、 `Short` 、 `Integer` 、 `Long` 、 `Float` 、 `Double` 、 `Character` 、 `Boolean`。

## 谈谈数据类型转换

在Java中，数据类型转换主要有两种：自动类型转换（提升）和强制类型转换（降级）。

1. 自动类型转换：当两种不同的数据类型进行运算时，Java会自动将“小”的数据类型转换为“大”的数据类型。转换顺序为：`byte`, `short`, `char` -> `int` -> `long` -> `float` -> `double`。

```java
int i = 100;
long l = i;  // 自动类型转换，int转为long
```

2. 强制类型转换：当我们需要将“大”的数据类型转换为“小”的数据类型时，需要进行强制类型转换，但是，这可能会导致数据精度的丢失。

```java
double d = 100.123;
int i = (int) d;  // 强制类型转换，double转为int，小数部分将被丢弃
```

另外，对于引用类型，可以进行向上转型（从子类到父类）和向下转型（从父类到子类）。向上转型是安全的，但向下转型可能会抛出`ClassCastException`。

```java
Object obj = "Hello, World!";  // String向上转型为Object
String str = (String) obj;  // Object向下转型为String
```

> 注意：
>
> - ⾃增/⾃减运算符、复合赋值运算符底层做了优化，内部⾃动强制类型转换；如`++`，`--`，`+=`，`-=`......
> - 在进行强制类型转换时，必须保证转换后的数据类型能够接受原始数据，否则可能会导致数据溢出。

## 基本类型和包装类型的区别

基本类型直接存储数据值，在栈上分配内存，占⽤固定的内存空间。包装类型是对象动态分配内存，在堆上创建，包含额外的信息，例如⽅法和字段，同时也占⽤更多的内存空
间。

区别如下：

| 特点       | 基本类型                       | 包装类型                                                 |
| ---------- | ------------------------------ | -------------------------------------------------------- |
| 存储位置   | 直接存储在栈内存中             | 存储在堆内存中                                           |
| 默认值     | 通常为0或false                 | 默认值为null                                             |
| 方法和属性 | 没有方法和属性                 | 是类，拥有方法和属性                                     |
| 使用场景   | 当不需要对象时，基本类型更适用 | 当需要对象时，如集合类或需要调用对象方法时，使用包装类型 |

从Java 5开始，基本类型和包装类型之间可以自动装箱和拆箱，这使得基本类型和包装类型之间的转换更加⽅便。

## 什么是自动装箱和自动拆箱

自动装箱和自动拆箱是Java 5引入的两个特性，允许我们直接将基本类型和包装类型进行互相转换，而不需要显式地进行转换（通常由编译器自动处理）。

1. 自动装箱（*Autoboxing*）：是`Java`**自动将基本类型转换为对应的包装类型**。例如，将`int`自动转换为`Integer`，或者将`double`自动转换为`Double`。

```java
Integer i = 10;  // 自动装箱，相当于Integer i = Integer.valueOf(10);
Double d = 10.0; // 自动装箱，相当于Double d = Double.valueOf(10.0);
```

2. 自动拆箱（*Unboxing*）：是`Java`**自动将包装类型转换为对应的基本类型**。例如，将`Integer`自动转换为`int`，或者将`Double`自动转换为`double`。

```java
int i = new Integer(10);  // 自动拆箱，相当于int i = new Integer(10).intValue();
double d = new Double(10.0); // 自动拆箱，相当于double d = new Double(10.0).doubleValue();
```

装箱其实就是调⽤了包装类的 `valueOf()`⽅法，拆箱则是调⽤了`xxxValue()`⽅法。

> 注意：自动装箱和拆箱虽然方便，但是在某些情况下可能会导致不预期的结果，特别是在处理null值或者在比较对象时。因此，使用时需要特别注意。

## 